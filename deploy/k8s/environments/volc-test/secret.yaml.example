# ChatFold Kubernetes Secret 配置模板
#
# 使用说明:
# 1. 复制此文件为 secret.yaml: cp secret.yaml.example secret.yaml
# 2. 用实际的密钥值替换 base64 编码的占位符
# 3. base64 编码命令: echo -n "your-value" | base64
# 4. 应用配置: kubectl apply -f secret.yaml
#
# 注意: secret.yaml 文件包含敏感信息，请勿提交到版本控制系统
# 已在 .gitignore 中配置忽略

apiVersion: v1
kind: Secret
metadata:
  name: chatfold-secrets
  namespace: chatfold
  labels:
    app: chatfold
    environment: test
type: Opaque
data:
  ## =============================================================================
  ## 1. 数据库配置 (Database)
  ## =============================================================================

  # MySQL 连接字符串
  # 格式: mysql+pymysql://user:password@host:port/database?charset=utf8mb4
  # 示例明文: mysql+pymysql://chatfold:password@mysql-host:3306/chatfold?charset=utf8mb4
  DATABASE_URL: <BASE64_ENCODED_DATABASE_URL>

  ## =============================================================================
  ## 2. 缓存配置 (Cache)
  ## =============================================================================

  # Redis 密码 (如果 Redis 配置了密码认证)
  # 示例明文: your-redis-password
  REDIS_PASSWORD: <BASE64_ENCODED_REDIS_PASSWORD>

  ## =============================================================================
  ## 3. NanoCC 服务配置 (Protein Folding API)
  ## =============================================================================

  # NanoCC 认证 Token
  # 示例明文: c02e6c1e-bdc5-4afa-a701-bcf34941f26a
  NANOCC_AUTH_TOKEN: <BASE64_ENCODED_NANOCC_AUTH_TOKEN>

  ## =============================================================================
  ## 4. 认证配置 (Authentication) - 可选
  ## =============================================================================

  # JWT 密钥 (用于用户认证，如果启用)
  # 示例明文: your-jwt-secret-key
  # JWT_SECRET_KEY: <BASE64_ENCODED_JWT_SECRET>

  ## =============================================================================
  ## 使用示例
  ## =============================================================================
  #
  # 生成 base64 编码值:
  #   echo -n "mysql+pymysql://chatfold:password@mysql:3306/chatfold" | base64
  #
  # 解码 base64 值 (用于验证):
  #   echo "BASE64_STRING" | base64 -d
  #
  ## =============================================================================
